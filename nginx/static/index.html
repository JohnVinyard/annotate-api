<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Annotate UI</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
    <script type="text/javascript" src="settings.js"></script>
    <script type="text/javascript" src="app.js"></script>
    <script type="text/javascript" src="app2.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.min.css"
      integrity="sha256-vK3UTo/8wHbaUn+dTQD0X6dzidqc5l7gczvH+Bnowwk="
      crossorigin="anonymous" />
    <link rel="stylesheet" href="style.css" />
</head>
<body >

  <template id="welcome-template">
    <section class="section">
      <div class="content has-text-centered">
        <h1>Welcome to Cochlea!</h1>
        <p>
          It looks like you don't have an account yet.  Please <router-link
            :to="{ name: 'sign-in', params: { user }}"
            v-if="!user.data">
            sign in</router-link> or <router-link
            to="/register"
            v-if="!user.data">register</router-link>!
        </p>
      </div>
    </section>
  </template>

  <template id="menu-template">
    <section class="section">
      <div class="content has-text-centered">
        <ul>
          <li>
            <router-link :to="{ name: 'users' }">Users</router-link>
          </li>
          <li>
            <router-link :to="{ name: 'annotations' }">Annotations</router-link>
          </li>
        </ul>
      </div>
    </section>
  </template>

  <template id="sign-in-template">
    <section class="section">
      <div class="container">

        <article v-if="error" class="message is-danger">
          <div class="message-body">
            You supplied invalid credentials.
          </div>
        </article>

        <!-- User Name -->
        <div class="field">
          <label class="label" for="user-name">User Name</label>
          <div class="control">
            <input class="input" type="text" id="user-name" v-model="user.name"/>
          </div>
        </div>

        <!-- Password -->
        <div class="field">
          <label class="label" for="password">Password</label>
          <div class="control">
            <input class="input" type="password" id="password" v-model="user.password"/>
          </div>
        </div>

        <!-- Submit -->
        <div class="field">
          <div class="control">
            <button
              class="button is-link"
              type="submit"
              v-on:click="signIn">Submit</button>
          </div>
        </div>

      </div>

    </<section>
  </template>

  <template id="register-template">
    <section>
      Register
    </<section>
  </template>

  <template id="user-detail-template">
    <section class="section">
      <div class="content">
        <h1>{{ userName }}</h1>
        <p>
          <a v-bind:href="infoUrl">More info</a>
        </p>
        <p>{{ aboutMe }}</p>
      </div>
    </section>
  </template>

  <template id="annotation-template">
    <div class="card" ref="container">
      <div class="card-header">
        <h3 class="card-header-title">{{ annotation.sound }}</h3>
      </div>
      <div class="sound-view-outer-container">
          <div class="sound-view-controls">
              <div class="sound-view-zoom-in" v-on:click="zoomIn">+</div>
              <div class="sound-view-zoom-out" v-on:click="zoomOut">-</div>
          </div>

          <div class="sound-view-container">
              <canvas ref="canvas" class="sound-view-visualization">
              </canvas>
          </div>
      </div>
    </div>
  </template>

  <template id="annotations-template">
    <section>
      <div class="container">

        <!-- Text search -->
        <div class="section">
          <div class="container">
            <!-- User Name -->
            <div class="field">
              <label class="label" for="query">Query</label>
              <div class="control">
                <input class="input" type="text" id="query" v-model="query"/>
              </div>
            </div>
          </div>
        </div>

        <!-- Results -->
        <div class="section">
          <div class="container">
            <annotation
              v-for="annotation in annotations" :annotation="annotation" />
          </div>
        </div>
      </div>
    </<section>
  </template>

  <template id="user-summary-template">

    <div class="card">
      <div class="card-header">
        <h3 class="card-header-title">{{ user.user_name }}</h3>
      </div>
      <div class="card-content">
        <div class="content">
          {{ user.about_me }}
        </div>
      </div>
    </div>

  </template>

  <template id="users-template">
    <div class="container">

      <!-- Text search -->
      <div class="section">
        <div class="container">
          <!-- User Name -->
          <div class="field">
            <label class="label" for="query">Query</label>
            <div class="control">
              <input class="input" type="text" id="query" v-model="query"/>
            </div>
          </div>
        </div>
      </div>

      <!-- Results -->
      <div class="section">
        <div class="container">
          <user-summary v-for="user in users" :user="user" />
        </div>
      </div>
    </div>
  </template>


  <template id="sounds-template">
    <section class="section">
      <div class="container">
        SOUNDS!
      </div>
    </section>
  </template>

  <template id="sound-template">
    <section>
      Individual Sound {{ id }}
    </<section>
  </template>


  <div id="app">
    <!-- Header -->
    <header class="hero is-light" id="header">
      <div class="hero-body">
          <div class="level">
            <div class="level-left">
              <router-link :to="homeLink()"><h3>Cochlea</h3></router-link>
            </div>
            <div class="level-right" v-if="user.data">
              <button
                class="button is-link"
                type="submit"
                v-on:click="logOut">Log Out</button>
            </div>
          </div>

      </div>
    </header>

    <!-- Main Content -->
    <section class="section" id="main-content">
      <div class="container">
        <!-- route outlet -->
        <!-- component matched by the route will render here -->
        <router-view></router-view>
      </div>
    </section>

  </div>

</body>
</html>
